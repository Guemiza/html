stages:
  - test
  - deploy

variables:
  PYTHON_IMAGE: "python:3.8"

test:
  stage: test
  image: $PYTHON_IMAGE
  script:
    - apt-get update 
    - pip install -r requirements.txt
    - python3 manage.py test
    
    # Ajoutez d'autres commandes de déploiement si nécessaires
checkout_code:
  stage: test
  script:
    - name: Checkout code
      uses: actions/checkout@v2  # Spécifiez la version v2 de l'action checkout
